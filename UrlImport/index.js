(function(s,c,d,t,n,h,i){"use strict";const m=c.findByProps("hideActionSheet"),r={"en-GB":"Install as a Plugin",uk:"\u0412\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0438 \u044F\u043A \u041F\u043B\u0430\u0433\u0456\u043D",ru:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043A\u0430\u043A \u041F\u043B\u0430\u0433\u0438\u043D"};var f={onLoad(){this.onUnload=d.before("openLazy",m,function(l){if(l[1]!=="LongPressUrl")return;const{header:{title:u},options:g}=l[2];if(u.endsWith(".json")||u.endsWith(".json/")||u.includes("vd-plugins.github.io/proxy"))return;let e=u;e.endsWith("/")||(e+="/");const a=vendetta.plugins.plugins;return g.push({label:r[i._chosenLocale]??r["en-GB"],onPress:function(){return vendetta.plugins.installPlugin(e).then(function(){a[e]&&(t.showToast(a[e].manifest.name,n.getAssetIDByName("Check")),h.showConfirmationAlert({title:a[e].manifest.name,confirmText:i.Messages.ENABLE,cancelText:i.Messages.CANCEL,confirmColor:"brand",onConfirm:function(){try{vendetta.plugins.startPlugin(e),t.showToast(a[e].manifest.name,n.getAssetIDByName("ic_activity_24px"))}catch(o){console.log(o.stack),alert(o.stack),t.showToast(e,n.getAssetIDByName("Small"))}}}))}).catch(function(o){t.showToast(o.message,n.getAssetIDByName("Small"))})}}),l})}};return s.default=f,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.patcher,vendetta.ui.toasts,vendetta.ui.assets,vendetta.ui.alerts,vendetta.metro.common.i18n);
